---
phase: 01-project-initialization
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - pnpm-lock.yaml
  - tsconfig.json
  - next.config.ts
  - postcss.config.mjs
  - eslint.config.mjs
  - app/layout.tsx
  - app/page.tsx
  - app/globals.css
  - .gitignore
autonomous: true

must_haves:
  truths:
    - "`pnpm dev` starts dev server without errors and serves on localhost:3000"
    - "`pnpm build` completes without TypeScript or build errors"
    - "Tailwind utility classes (e.g., text-4xl, font-bold, text-blue-600) render visually on the page"
    - "Browser shows a styled page at localhost:3000 with visible Tailwind-styled content"
  artifacts:
    - path: "package.json"
      provides: "Project manifest with next, react, tailwindcss dependencies and dev/build/start/lint scripts"
      contains: "next"
    - path: "app/layout.tsx"
      provides: "Root layout with html, body, globals.css import"
      contains: "globals.css"
    - path: "app/page.tsx"
      provides: "Home page with Tailwind utility classes"
      contains: "className"
    - path: "app/globals.css"
      provides: "Global styles with Tailwind v4 import"
      contains: "@import"
    - path: "tsconfig.json"
      provides: "TypeScript configuration"
    - path: "postcss.config.mjs"
      provides: "PostCSS config with @tailwindcss/postcss plugin"
      contains: "@tailwindcss/postcss"
    - path: "next.config.ts"
      provides: "Next.js configuration"
  key_links:
    - from: "app/layout.tsx"
      to: "app/globals.css"
      via: "import './globals.css'"
      pattern: "import.*globals\\.css"
    - from: "app/globals.css"
      to: "tailwindcss"
      via: "@import directive"
      pattern: "@import.*tailwindcss"
    - from: "postcss.config.mjs"
      to: "@tailwindcss/postcss"
      via: "PostCSS plugin registration"
      pattern: "@tailwindcss/postcss"
---

<objective>
Initialize a Next.js project with App Router, TypeScript, Tailwind CSS v4, and pnpm. Verify the dev server runs, the build passes, and Tailwind classes render.

Purpose: Establish a working development environment as the foundation for all subsequent phases (FSD structure, landing page assembly).
Output: A complete, buildable Next.js project with Tailwind CSS rendering utility classes on the home page.
</objective>

<execution_context>
@/Users/muhemmedibrahimov/.claude/get-shit-done/workflows/execute-plan.md
@/Users/muhemmedibrahimov/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-project-initialization/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Next.js project with pnpm and Tailwind</name>
  <files>
    package.json
    pnpm-lock.yaml
    tsconfig.json
    next.config.ts
    postcss.config.mjs
    eslint.config.mjs
    app/layout.tsx
    app/page.tsx
    app/globals.css
    .gitignore
    next-env.d.ts
    public/*
  </files>
  <action>
    Run `pnpm create next-app@latest . --ts --tailwind --eslint --app --use-pnpm` from the project root (`/Users/muhemmedibrahimov/work/courses-for-veterans/`).

    The project root already contains `.git/`, `.planning/`, and `.claude/` directories. The `create-next-app` command should work with `.` in a directory that has hidden directories, but if it fails due to "directory not empty":
    1. Create a temp directory: `mktemp -d`
    2. Run `pnpm create next-app@latest temp-next-project --ts --tailwind --eslint --app --use-pnpm` in that temp directory
    3. Copy all generated files (except `.git/`) from temp into the project root
    4. Run `pnpm install` in the project root
    5. Clean up the temp directory

    Do NOT use `--src-dir` flag. FSD restructuring in Phase 2 needs `app/` at the project root.

    After scaffolding, verify the generated files match expected Tailwind v4 patterns:
    - `app/globals.css` should contain `@import "tailwindcss"` (NOT `@tailwind base/components/utilities`)
    - `postcss.config.mjs` should use `@tailwindcss/postcss` (NOT `tailwindcss` as plugin)
    - No `tailwind.config.js` or `tailwind.config.ts` file should exist (Tailwind v4 uses CSS-first config)

    If any of these checks fail, the scaffolding used an older template. Fix manually:
    - Replace `@tailwind base; @tailwind components; @tailwind utilities;` with `@import "tailwindcss";` in globals.css
    - Replace `tailwindcss` plugin with `@tailwindcss/postcss` in postcss.config.mjs
    - Delete `tailwind.config.js`/`tailwind.config.ts` if present
  </action>
  <verify>
    1. `ls app/layout.tsx app/page.tsx app/globals.css package.json tsconfig.json postcss.config.mjs next.config.ts` -- all files exist
    2. `grep -q '@import' app/globals.css` -- Tailwind v4 import syntax present
    3. `grep -q '@tailwindcss/postcss' postcss.config.mjs` -- correct PostCSS plugin
    4. `grep -q '"next"' package.json` -- Next.js is a dependency
    5. `! test -f tailwind.config.js && ! test -f tailwind.config.ts` -- no legacy Tailwind config
    6. `pnpm install` succeeds (if not already done)
  </verify>
  <done>
    All Next.js project files exist at the project root. package.json lists next, react, react-dom, tailwindcss as dependencies. globals.css uses `@import "tailwindcss"`. postcss.config.mjs uses `@tailwindcss/postcss`. No legacy tailwind.config files exist. `pnpm install` has run successfully and node_modules/ exists.
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify dev server, build, and Tailwind rendering</name>
  <files>
    app/page.tsx
  </files>
  <action>
    1. Replace the content of `app/page.tsx` with a simple page that uses Tailwind utility classes to confirm styling works:

    ```tsx
    export default function Home() {
      return (
        <main className="flex min-h-screen items-center justify-center bg-gray-100">
          <h1 className="text-4xl font-bold text-blue-600">
            Courses for Veterans
          </h1>
        </main>
      );
    }
    ```

    This replaces the default create-next-app boilerplate with a minimal page that uses multiple Tailwind utility classes (flexbox, sizing, colors, typography). If these classes render correctly, Tailwind is fully working.

    2. Also clean up `app/globals.css` to remove any default create-next-app styling that might interfere. Keep only the Tailwind import and remove all other rules:

    ```css
    @import "tailwindcss";
    ```

    3. Run `pnpm build` to verify TypeScript compilation and production build succeed.

    4. Start `pnpm dev` in background, wait for "Ready" message, then curl localhost:3000 to confirm the page is served. Check that the response contains Tailwind class names. Then stop the dev server.
  </action>
  <verify>
    1. `pnpm build` exits with code 0 (no TypeScript or build errors)
    2. `pnpm dev &` starts and outputs "Ready" within 30 seconds
    3. `curl -s http://localhost:3000` returns HTML containing "Courses for Veterans" and Tailwind classes like "text-4xl" or "text-blue-600"
    4. Dev server process is killed after verification
  </verify>
  <done>
    `pnpm build` passes without errors. Dev server starts on localhost:3000. The page contains "Courses for Veterans" styled with Tailwind utility classes (text-4xl, font-bold, text-blue-600, bg-gray-100). All four phase success criteria are met: (1) pnpm dev runs, (2) browser shows page, (3) TypeScript compiles, (4) Tailwind classes apply.
  </done>
</task>

</tasks>

<verification>
Run these checks to confirm all phase success criteria are met:

1. **Dev server starts:** `pnpm dev` outputs "Ready" and serves on localhost:3000
2. **Page renders:** `curl localhost:3000` returns HTML with "Courses for Veterans"
3. **TypeScript builds:** `pnpm build` exits 0 with no type errors
4. **Tailwind works:** The served HTML includes Tailwind utility class names, and the page shows styled content (blue text, gray background, centered layout)
</verification>

<success_criteria>
- `pnpm dev` starts dev server without errors
- Browser shows styled page on localhost:3000 with "Courses for Veterans" heading
- `pnpm build` completes with exit code 0
- Tailwind utility classes (text-4xl, font-bold, text-blue-600) render correctly on the page
- No legacy Tailwind v3 patterns (tailwind.config.js, @tailwind directives)
</success_criteria>

<output>
After completion, create `.planning/phases/01-project-initialization/01-01-SUMMARY.md`
</output>
